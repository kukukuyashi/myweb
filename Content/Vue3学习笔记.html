<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue3å­¦ä¹ ç¬”è®° - Cyincçš„ä¸ªäººåšå®¢</title>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/Content.css">
    <script src="../js/global-music-player.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        .toc-sidebar {
            position: fixed;
            right: 60px;
            top: 50%;
            transform: translateY(-50%);
            width: 250px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 1000;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 1rem;
            transition: all 0.3s ease;
        }
        
        .toc-sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
            border: none;
            box-shadow: none;
        }
        
        .toc-toggle-btn {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 36px;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1002;
        }
        
        .toc-toggle-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-50%) scale(1.1);
        }
        
        .toc-sidebar .toc {
            background: transparent;
            border: none;
            padding: 0;
            margin-bottom: 0;
        }
        
        .toc-sidebar .toc h3 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--primary-darker);
            border-bottom: 2px solid var(--primary-lighter);
            padding-bottom: 0.5rem;
        }
        
        .toc-sidebar .toc ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        
        .toc-sidebar .toc li {
            margin-bottom: 0.4rem;
        }
        
        .toc-sidebar .toc a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
            display: block;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
        }
        
        .toc-sidebar .toc a:hover {
            color: var(--primary-color);
            background: var(--primary-lighter);
            text-decoration: none;
        }
        
        .toc-sidebar .toc-level-2 {
            padding-left: 1.2rem;
            margin-top: 0.3rem;
        }
        
        .toc-sidebar .toc-level-3 {
            padding-left: 2.4rem;
        }
        
        .article-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            margin-bottom: 2rem;
        }
        
        [data-theme="dark"] .article-container {
            background: var(--card-bg);
            border-color: var(--border-color);
            color: #ffffff;
        }
        
        [data-theme="dark"] .toc-sidebar {
            background: var(--card-bg);
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
        }
        
        [data-theme="dark"] .toc-sidebar .toc h3 {
            color: #ffffff;
            border-bottom-color: var(--border-color);
        }
        
        [data-theme="dark"] .toc-sidebar .toc a {
            color: #ffffff;
        }
        
        [data-theme="dark"] .toc-sidebar .toc a:hover {
            color: var(--primary-color);
            background: var(--hover-bg);
        }
        
        h1.article-title {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            color: var(--primary-darker);
        }
        
        h2 {
            font-size: 1.8rem;
            margin-top: 2.5rem;
            margin-bottom: 1.25rem;
            color: var(--primary-darker);
            border-bottom: 2px solid var(--primary-lighter);
            padding-bottom: 0.5rem;
        }
        
        h3 {
            font-size: 1.4rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
        }
        
        h4 {
            font-size: 1.2rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-color);
        }
        
        p {
            margin-bottom: 1.25rem;
            line-height: 1.8;
        }
        
        ul, ol {
            margin-bottom: 1.25rem;
            padding-left: 2rem;
        }
        
        li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        
        pre {
            background: #f6f8fa;
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
            position: relative;
        }
        
        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(52, 152, 219, 0.9);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.3rem 0.6rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .copy-btn:hover {
            background: rgba(41, 128, 185, 1);
            transform: scale(1.05);
        }
        
        .copy-btn.copied {
            background: rgba(46, 204, 113, 0.9);
        }
        
        [data-theme="dark"] pre {
            background: #1e1e1e !important;
            border: 1px solid #333 !important;
        }
        
        [data-theme="dark"] code {
            color: #d4d4d4 !important;
        }
        
        [data-theme="dark"] h1.article-title,
        [data-theme="dark"] h2,
        [data-theme="dark"] h3,
        [data-theme="dark"] h4 {
            color: #ffffff;
        }
        
        [data-theme="dark"] p,
        [data-theme="dark"] ul,
        [data-theme="dark"] ol {
            color: #ffffff;
        }
        
        [data-theme="dark"] blockquote {
            background: rgba(100, 181, 246, 0.1) !important;
            border-left-color: #64b5f6 !important;
            color: #e0e0e0 !important;
        }
        
        .btn-outline {
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            background: transparent;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .feature-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--primary-color);
        }
        
        [data-theme="dark"] .feature-card {
            background: rgba(45, 55, 72, 0.8);
        }
        
        .vue-logo {
            text-align: center;
            margin: 2rem 0;
        }
        
        .vue-logo img {
            max-width: 200px;
            height: auto;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #42b883 0%, #35495e 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }
        
        .highlight-box code {
            background: rgba(255,255,255,0.2);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }
        
        @media (max-width: 768px) {
            .toc-sidebar {
                width: 200px;
                right: 40px;
            }
            
            .toc-toggle-btn {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">Cyinc<span>çš„åšå®¢</span></div>
                    <nav>
                        <ul>
                            <li><a href="../index.html" data-icon="ğŸ ">é¦–é¡µ</a></li>
                            <li><a href="../about.html" data-icon="ğŸ‘¤">å…³äº</a></li>
                            <li><a href="../archive.html" data-icon="ğŸ“š">å½’æ¡£</a></li>
                            <li><a href="../music.html" data-icon="ğŸµ">éŸ³ä¹å®¤</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>

        <div class="header-controls">
            <button class="toggle-btn" @click="toggleSidebar" title="éšè—/æ˜¾ç¤ºå¯¼èˆªæ ">{{ sidebarVisible ? 'â—€' : 'â˜°' }}</button>
            <button id="theme-toggle" @click="toggleTheme" title="åˆ‡æ¢ä¸»é¢˜">{{ theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸' }}</button>
        </div>

        <main>
            <div class="container">
                <div class="main-wrapper">
                    <div id="mainContent">
                        <div class="toc-sidebar" :class="{ collapsed: !tocVisible }">
                            <div class="toc-content">
                                <div class="toc">
                                    <h3>ç›®å½•</h3>
                                    <ul>
                                        <li v-for="section in sections" :key="section.id">
                                            <a :href="'#' + section.id">{{ section.title }}</a>
                                            <ul v-if="section.children" class="toc-level-2">
                                                <li v-for="child in section.children" :key="child.id">
                                                    <a :href="'#' + child.id">{{ child.title }}</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <button class="toc-toggle-btn" @click="toggleToc" title="åˆ‡æ¢ç›®å½•">{{ tocVisible ? 'âœ•' : 'â˜°' }}</button>

                        <div class="article-container">
                            <button class="btn-outline" onclick="location.href='../index.html'" style="margin-bottom: 1rem;">&larr; è¿”å›é¦–é¡µ</button>
                            <h1 class="article-title">{{ articleTitle }}</h1>
                            <div class="post-meta">
                                <span class="post-date">{{ publishDate }}</span>
                                <span class="post-author">{{ author }}</span>
                                <span class="post-category">{{ category }}</span>
                            </div>
                            <div class="article-content">
                                <div class="vue-logo">
                                    <img src="https://vuejs.org/images/logo.png" alt="Vue.js Logo">
                                </div>
                                
                                <div class="highlight-box">
                                    <strong>Vue3 ç®€ä»‹ï¼š</strong> 2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceã€‚ç»å†äº†4800+æ¬¡æäº¤ã€40+ä¸ªRFCã€600+æ¬¡PRã€300+è´¡çŒ®è€…ã€‚æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°ç‰ˆæœ¬ä¸º3.3.4ã€‚
                                </div>

                                <h2 id="section1">1. Vue3ç®€ä»‹</h2>
                                
                                <h3 id="section1-1">1.1 æ€§èƒ½çš„æå‡</h3>
                                <div class="feature-card">
                                    <ul>
                                        <li>æ‰“åŒ…å¤§å°å‡å°‘ <strong>41%</strong></li>
                                        <li>åˆæ¬¡æ¸²æŸ“å¿« <strong>55%</strong>ï¼Œæ›´æ–°æ¸²æŸ“å¿« <strong>133%</strong></li>
                                        <li>å†…å­˜å‡å°‘ <strong>54%</strong></li>
                                    </ul>
                                </div>

                                <h3 id="section1-2">1.2 æºç çš„å‡çº§</h3>
                                <ul>
                                    <li>ä½¿ç”¨ <code>Proxy</code> ä»£æ›¿ <code>defineProperty</code> å®ç°å“åº”å¼</li>
                                    <li>é‡å†™è™šæ‹Ÿ <code>DOM</code> çš„å®ç°å’Œ <code>Tree-Shaking</code></li>
                                </ul>

                                <h3 id="section1-3">1.3 æ‹¥æŠ±TypeScript</h3>
                                <p>Vue3 å¯ä»¥æ›´å¥½çš„æ”¯æŒ TypeScriptã€‚</p>

                                <h3 id="section1-4">1.4 æ–°çš„ç‰¹æ€§</h3>
                                <div class="feature-card">
                                    <p><strong>1. Composition APIï¼ˆç»„åˆAPIï¼‰ï¼š</strong></p>
                                    <ul>
                                        <li><code>setup</code></li>
                                        <li><code>ref</code> ä¸ <code>reactive</code></li>
                                        <li><code>computed</code> ä¸ <code>watch</code></li>
                                    </ul>
                                    <p><strong>2. æ–°çš„å†…ç½®ç»„ä»¶ï¼š</strong></p>
                                    <ul>
                                        <li><code>Fragment</code></li>
                                        <li><code>Teleport</code></li>
                                        <li><code>Suspense</code></li>
                                    </ul>
                                    <p><strong>3. å…¶ä»–æ”¹å˜ï¼š</strong></p>
                                    <ul>
                                        <li>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li>
                                        <li><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</li>
                                        <li>ç§»é™¤ <code>keyCode</code> æ”¯æŒä½œä¸º <code>v-on</code> çš„ä¿®é¥°ç¬¦</li>
                                    </ul>
                                </div>

                                <h2 id="section2">2. åˆ›å»ºVue3å·¥ç¨‹</h2>

                                <h3 id="section2-1">2.1 åŸºäº vue-cli åˆ›å»º</h3>
                                <blockquote>
                                    <p>å¤‡æ³¨ï¼šç›®å‰ vue-cli å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº Vite åˆ›å»ºé¡¹ç›®ã€‚</p>
                                </blockquote>
                                <pre><code class="language-powershell">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š
vue --version

## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli 
npm install -g @vue/cli

## æ‰§è¡Œåˆ›å»ºå‘½ä»¤
vue create vue_test

## å¯åŠ¨
cd vue_test
npm run serve</code></pre>

                                <h3 id="section2-2">2.2 åŸºäº vite åˆ›å»ºï¼ˆæ¨èï¼‰</h3>
                                <p><code>vite</code> æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://vitejs.cn" target="_blank">https://vitejs.cn</a></p>
                                <div class="feature-card">
                                    <p><strong>vite çš„ä¼˜åŠ¿ï¼š</strong></p>
                                    <ul>
                                        <li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨</li>
                                        <li>å¯¹ TypeScriptã€JSXã€CSS ç­‰æ”¯æŒå¼€ç®±å³ç”¨</li>
                                        <li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆ</li>
                                    </ul>
                                </div>
                                <pre><code class="language-powershell">## 1.åˆ›å»ºå‘½ä»¤
npm create vue@latest

## 2.å…·ä½“é…ç½®
âˆš Project name: vue3_test
âˆš Add TypeScript?  Yes
âˆš Add JSX Support?  No
âˆš Add Vue Router for Single Page Application development?  No
âˆš Add Pinia for state management?  No
âˆš Add Vitest for Unit Testing?  No
âˆš Add an End-to-End Testing Solution?  No
âˆš Add ESLint for code quality?  Yes
âˆš Add Prettier for code formatting?  No</code></pre>

                                <h3 id="section2-3">2.3 ä¸€ä¸ªç®€å•çš„æ•ˆæœ</h3>
                                <p>Vue3 å‘ä¸‹å…¼å®¹ Vue2 è¯­æ³•ï¼Œä¸” Vue3 ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;å¹´é¾„+1&lt;/button&gt;
    &lt;button @click="showTel"&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name:'App',
    data() {
      return {
        name:'å¼ ä¸‰',
        age:18,
        tel:'13888888888'
      }
    },
    methods:{
      changeName(){
        this.name = 'zhang-san'
      },
      changeAge(){
        this.age += 1
      },
      showTel(){
        alert(this.tel)
      }
    },
  }
&lt;/script&gt;</code></pre>

                                <h2 id="section3">3. Vue3æ ¸å¿ƒè¯­æ³•</h2>

                                <h3 id="section3-1">3.1 OptionsAPI ä¸ CompositionAPI</h3>
                                <ul>
                                    <li>Vue2 çš„ API è®¾è®¡æ˜¯ Optionsï¼ˆé…ç½®ï¼‰é£æ ¼çš„</li>
                                    <li>Vue3 çš„ API è®¾è®¡æ˜¯ Compositionï¼ˆç»„åˆï¼‰é£æ ¼çš„</li>
                                </ul>

                                <h4>Options API çš„å¼Šç«¯</h4>
                                <p>Options ç±»å‹çš„ APIï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼šdataã€methodsã€computed ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼šdataã€methodsã€computedï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚</p>

                                <h4>Composition API çš„ä¼˜åŠ¿</h4>
                                <p>å¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p>

                                <h3 id="section3-2">3.2 æ‹‰å¼€åºå¹•çš„ setup</h3>
                                <p><code>setup</code> æ˜¯ Vue3 ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ Composition API "è¡¨æ¼”çš„èˆå°"ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†......ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨ setup ä¸­ã€‚</p>
                                <div class="feature-card">
                                    <p><strong>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</strong></p>
                                    <ul>
                                        <li>setup å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</li>
                                        <li>setup ä¸­è®¿é—® this æ˜¯ undefined</li>
                                        <li>setup å‡½æ•°ä¼šåœ¨ beforeCreate ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯"é¢†å…ˆ"æ‰€æœ‰é’©å­æ‰§è¡Œçš„</li>
                                    </ul>
                                </div>
                                <pre><code class="language-vue">&lt;script lang="ts"&gt;
  export default {
    name:'Person',
    setup(){
      // æ•°æ®
      let name = 'å¼ ä¸‰'
      let age = 18
      let tel = '13888888888'

      // æ–¹æ³•
      function changeName(){
        name = 'zhang-san'
      }
      function changeAge(){
        age += 1
      }
      function showTel(){
        alert(tel)
      }

      // è¿”å›ä¸€ä¸ªå¯¹è±¡
      return {name,age,tel,changeName,changeAge,showTel}
    }
  }
&lt;/script&gt;</code></pre>

                                <h4>setup è¯­æ³•ç³–</h4>
                                <pre><code class="language-vue">&lt;script setup lang="ts"&gt;
  // æ•°æ®
  let name = 'å¼ ä¸‰'
  let age = 18
  let tel = '13888888888'

  // æ–¹æ³•
  function changeName(){
    name = 'æå››'
  }
  function changeAge(){
    age += 1
  }
  function showTel(){
    alert(tel)
  }
&lt;/script&gt;</code></pre>

                                <h3 id="section3-3">3.3 ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</h3>
                                <ul>
                                    <li><strong>ä½œç”¨ï¼š</strong>å®šä¹‰å“åº”å¼å˜é‡</li>
                                    <li><strong>è¯­æ³•ï¼š</strong><code>let xxx = ref(åˆå§‹å€¼)</code></li>
                                    <li><strong>è¿”å›å€¼ï¼š</strong>ä¸€ä¸ª RefImpl çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§° ref å¯¹è±¡ï¼Œref å¯¹è±¡çš„ value å±æ€§æ˜¯å“åº”å¼çš„</li>
                                </ul>
                                <pre><code class="language-vue">&lt;script setup lang="ts" name="Person"&gt;
  import {ref} from 'vue'
  
  // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡
  let name = ref('å¼ ä¸‰')
  let age = ref(18)
  let tel = '13888888888'

  function changeName(){
    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value
    name.value = 'æå››'
  }
  function changeAge(){
    age.value += 1 
  }
&lt;/script&gt;</code></pre>

                                <h3 id="section3-4">3.4 reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®</h3>
                                <ul>
                                    <li><strong>ä½œç”¨ï¼š</strong>å®šä¹‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨ refï¼‰</li>
                                    <li><strong>è¯­æ³•ï¼š</strong><code>let å“åº”å¼å¯¹è±¡ = reactive(æºå¯¹è±¡)</code></li>
                                    <li><strong>è¿”å›å€¼ï¼š</strong>ä¸€ä¸ª Proxy çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡</li>
                                    <li><strong>æ³¨æ„ç‚¹ï¼š</strong>reactive å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯"æ·±å±‚æ¬¡"çš„</li>
                                </ul>
                                <pre><code class="language-vue">&lt;script lang="ts" setup name="Person"&gt;
import { reactive } from 'vue'

// æ•°æ®
let car = reactive({ brand: 'å¥”é©°', price: 100 })
let games = reactive([
  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },
  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },
  { id: 'ahsgdyfa03', name: 'åŸç¥' }
])

function changeCarPrice() {
  car.price += 10
}
function changeFirstGame() {
  games[0].name = 'æµæ˜Ÿè´è¶å‰‘'
}
&lt;/script&gt;</code></pre>

                                <h3 id="section3-5">3.5 ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®</h3>
                                <p>å…¶å® ref æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€å¯¹è±¡ç±»å‹ã€‚è‹¥ ref æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº† reactive å‡½æ•°ã€‚</p>
                                <pre><code class="language-vue">&lt;script lang="ts" setup name="Person"&gt;
import { ref } from 'vue'

// æ•°æ®
let car = ref({ brand: 'å¥”é©°', price: 100 })
let games = ref([
  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },
  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },
  { id: 'ahsgdyfa03', name: 'åŸç¥' }
])

function changeCarPrice() {
  car.value.price += 10
}
function changeFirstGame() {
  games.value[0].name = 'æµæ˜Ÿè´è¶å‰‘'
}
&lt;/script&gt;</code></pre>

                                <h3 id="section3-6">3.6 ref å¯¹æ¯” reactive</h3>
                                <div class="feature-card">
                                    <p><strong>å®è§‚è§’åº¦çœ‹ï¼š</strong></p>
                                    <ul>
                                        <li>ref ç”¨æ¥å®šä¹‰ï¼šåŸºæœ¬ç±»å‹æ•°æ®ã€å¯¹è±¡ç±»å‹æ•°æ®</li>
                                        <li>reactive ç”¨æ¥å®šä¹‰ï¼šå¯¹è±¡ç±»å‹æ•°æ®</li>
                                    </ul>
                                    <p><strong>åŒºåˆ«ï¼š</strong></p>
                                    <ul>
                                        <li>ref åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨ .value</li>
                                        <li>reactive é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼šå¤±å»å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨ Object.assign å»æ•´ä½“æ›¿æ¢ï¼‰</li>
                                    </ul>
                                    <p><strong>ä½¿ç”¨åŸåˆ™ï¼š</strong></p>
                                    <ul>
                                        <li>è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨ ref</li>
                                        <li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œrefã€reactive éƒ½å¯ä»¥</li>
                                        <li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨ reactive</li>
                                    </ul>
                                </div>

                                <h3 id="section3-7">3.7 toRefs ä¸ toRef</h3>
                                <ul>
                                    <li><strong>ä½œç”¨ï¼š</strong>å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º ref å¯¹è±¡</li>
                                    <li><strong>å¤‡æ³¨ï¼š</strong>toRefs ä¸ toRef åŠŸèƒ½ä¸€è‡´ï¼Œä½† toRefs å¯ä»¥æ‰¹é‡è½¬æ¢</li>
                                </ul>
                                <pre><code class="language-vue">&lt;script lang="ts" setup name="Person"&gt;
  import {ref,reactive,toRefs,toRef} from 'vue'

  // æ•°æ®
  let person = reactive({name:'å¼ ä¸‰', age:18, gender:'ç”·'})
  
  // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡º
  let {name,gender} = toRefs(person)
  
  // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡º
  let age = toRef(person,'age')

  // æ–¹æ³•
  function changeName(){
    name.value += '~'
  }
&lt;/script&gt;</code></pre>

                                <h3 id="section3-8">3.8 computed</h3>
                                <p>ä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ Vue2 ä¸­çš„ computed ä½œç”¨ä¸€è‡´ï¼‰ã€‚</p>
                                <pre><code class="language-vue">&lt;script setup lang="ts" name="App"&gt;
  import {ref,computed} from 'vue'

  let firstName = ref('zhang')
  let lastName = ref('san')

  // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹
  let fullName = computed({
    // è¯»å–
    get(){
      return firstName.value + '-' + lastName.value
    },
    // ä¿®æ”¹
    set(val){
      firstName.value = val.split('-')[0]
      lastName.value = val.split('-')[1]
    }
  })

  function changeFullName(){
    fullName.value = 'li-si'
  } 
&lt;/script&gt;</code></pre>

                                <h3 id="section3-9">3.9 watch</h3>
                                <p>ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ Vue2 ä¸­çš„ watch ä½œç”¨ä¸€è‡´ï¼‰</p>
                                <div class="feature-card">
                                    <p><strong>Vue3 ä¸­çš„ watch åªèƒ½ç›‘è§†ä»¥ä¸‹å››ç§æ•°æ®ï¼š</strong></p>
                                    <ul>
                                        <li>ref å®šä¹‰çš„æ•°æ®</li>
                                        <li>reactive å®šä¹‰çš„æ•°æ®</li>
                                        <li>å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆgetter å‡½æ•°ï¼‰</li>
                                        <li>ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„</li>
                                    </ul>
                                </div>

                                <h4>æƒ…å†µä¸€ï¼šç›‘è§† ref å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®</h4>
                                <pre><code class="language-vue">&lt;script lang="ts" setup name="Person"&gt;
  import {ref,watch} from 'vue'
  
  let sum = ref(0)
  
  function changeSum(){
    sum.value += 1
  }
  
  // ç›‘è§†
  const stopWatch = watch(sum,(newValue,oldValue)=>{
    console.log('sumå˜åŒ–äº†',newValue,oldValue)
    if(newValue >= 10){
      stopWatch()
    }
  })
&lt;/script&gt;</code></pre>

                                <h4>æƒ…å†µäºŒï¼šç›‘è§† ref å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®</h4>
                                <pre><code class="language-vue">&lt;script lang="ts" setup name="Person"&gt;
  import {ref,watch} from 'vue'
  
  let person = ref({
    name:'å¼ ä¸‰',
    age:18
  })
  
  // ç›‘è§†å¯¹è±¡ç±»å‹æ•°æ®ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†
  watch(person,(newValue,oldValue)=>{
    console.log('personå˜åŒ–äº†',newValue,oldValue)
  },{deep:true})
&lt;/script&gt;</code></pre>

                                <h4>æƒ…å†µä¸‰ï¼šç›‘è§† reactive å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®</h4>
                                <p>ç›‘è§† reactive å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚</p>

                                <h4>æƒ…å†µå››ï¼šç›‘è§† ref æˆ– reactive å®šä¹‰çš„å¯¹è±¡ç±»å‹æ•°æ®ä¸­çš„æŸä¸ªå±æ€§</h4>
                                <pre><code class="language-vue">watch(()=>person.name,(newValue,oldValue)=>{
  console.log('person.nameå˜åŒ–äº†',newValue,oldValue)
})</code></pre>

                                <h4>æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°å¤šä¸ªæ•°æ®</h4>
                                <pre><code class="language-vue">watch([()=>person.name,()=>person.age],(newValue,oldValue)=>{
  console.log('person.nameæˆ–person.ageå˜åŒ–äº†',newValue,oldValue)
})</code></pre>

                                <h2 id="section4">4. è·¯ç”±</h2>

                                <h3 id="section4-1">4.1 å¯¹è·¯ç”±çš„ç†è§£</h3>
                                <p>è·¯ç”±æ˜¯ Vue ä¸­ç”¨äºå®ç°å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œé€šè¿‡ URL çš„å˜åŒ–æ¥åˆ‡æ¢ä¸åŒçš„ç»„ä»¶è§†å›¾ã€‚</p>

                                <h3 id="section4-2">4.2 åŸºæœ¬åˆ‡æ¢æ•ˆæœ</h3>
                                <p>Vue3 ä¸­è¦ä½¿ç”¨ vue-router çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ 4 ç‰ˆæœ¬ã€‚</p>
                                <p>è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
                                <pre><code class="language-js">import {createRouter,createWebHistory} from 'vue-router'
import Home from '@/pages/Home.vue'
import News from '@/pages/News.vue'
import About from '@/pages/About.vue'

const router = createRouter({
	history:createWebHistory(),
	routes:[
		{
			path:'/home',
			component:Home
		},
		{
			path:'/about',
			component:About
		}
	]
})
export default router</code></pre>
                                <p>main.ts ä»£ç å¦‚ä¸‹ï¼š</p>
                                <pre><code class="language-js">import router from './router/index'
app.use(router)

app.mount('#app')</code></pre>
                                <p>App.vue ä»£ç å¦‚ä¸‹ï¼š</p>
                                <pre><code class="language-vue">&lt;template&gt;
  &lt;div class="app"&gt;
    &lt;h2 class="title"&gt;Vueè·¯ç”±æµ‹è¯•&lt;/h2&gt;
    &lt;!-- å¯¼èˆªåŒº --&gt;
    &lt;div class="navigate"&gt;
      &lt;RouterLink to="/home" active-class="active"&gt;é¦–é¡µ&lt;/RouterLink&gt;
      &lt;RouterLink to="/news" active-class="active"&gt;æ–°é—»&lt;/RouterLink&gt;
      &lt;RouterLink to="/about" active-class="active"&gt;å…³äº&lt;/RouterLink&gt;
    &lt;/div&gt;
    &lt;!-- å±•ç¤ºåŒº --&gt;
    &lt;div class="main-content"&gt;
      &lt;RouterView&gt;&lt;/RouterView&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="App"&gt;
  import {RouterLink,RouterView} from 'vue-router'  
&lt;/script&gt;</code></pre>

                                <h3 id="section4-3">4.3 ä¸¤ä¸ªæ³¨æ„ç‚¹</h3>
                                <ol>
                                    <li>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨ pages æˆ– views æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨ components æ–‡ä»¶å¤¹</li>
                                    <li>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Š"æ¶ˆå¤±"äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«å¸è½½æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½</li>
                                </ol>

                                <h3 id="section4-4">4.4 è·¯ç”±å™¨å·¥ä½œæ¨¡å¼</h3>
                                <h4>1. history æ¨¡å¼</h4>
                                <p>ä¼˜ç‚¹ï¼šURL æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰ #ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™ URL</p>
                                <p>ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰ 404 é”™è¯¯</p>
                                <pre><code class="language-js">const router = createRouter({
  	history:createWebHistory(), //historyæ¨¡å¼
  	/******/
})</code></pre>

                                <h4>2. hash æ¨¡å¼</h4>
                                <p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„</p>
                                <p>ç¼ºç‚¹ï¼šURL å¸¦æœ‰ # ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨ SEO ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®</p>
                                <pre><code class="language-js">const router = createRouter({
  	history:createWebHashHistory(), //hashæ¨¡å¼
  	/******/
})</code></pre>

                                <h3 id="section4-5">4.5 to çš„ä¸¤ç§å†™æ³•</h3>
                                <pre><code class="language-vue">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;
&lt;router-link active-class="active" to="/home"&gt;ä¸»é¡µ&lt;/router-link&gt;

&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;
&lt;router-link active-class="active" :to="{path:'/home'}"&gt;Home&lt;/router-link&gt;</code></pre>

                                <h3 id="section4-6">4.6 å‘½åè·¯ç”±</h3>
                                <p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚</p>
                                <p>ç»™è·¯ç”±è§„åˆ™å‘½åï¼š</p>
                                <pre><code class="language-js">routes:[
  {
    name:'zhuye',
    path:'/home',
    component:Home
  },
  {
    name:'xinwen',
    path:'/news',
    component:News,
  },
  {
    name:'guanyu',
    path:'/about',
    component:About
  }
]</code></pre>
                                <p>è·³è½¬è·¯ç”±ï¼š</p>
                                <pre><code class="language-vue">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to="/news/detail"&gt;è·³è½¬&lt;/router-link&gt;

&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;
&lt;router-link :to="{name:'guanyu'}"&gt;è·³è½¬&lt;/router-link&gt;</code></pre>

                                <h3 id="section4-7">4.7 åµŒå¥—è·¯ç”±</h3>
                                <p>ç¼–å†™ News çš„å­è·¯ç”±ï¼šDetail.vue</p>
                                <p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨ children é…ç½®é¡¹ï¼š</p>
                                <pre><code class="language-ts">const router = createRouter({
  history:createWebHistory(),
	routes:[
		{
			name:'zhuye',
			path:'/home',
			component:Home
		},
		{
			name:'xinwen',
			path:'/news',
			component:News,
			children:[
				{
					name:'xiang',
					path:'detail',
					component:Detail
				}
			]
		},
		{
			name:'guanyu',
			path:'/about',
			component:About
		}
	]
})
export default router</code></pre>
                                <p>è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š</p>
                                <pre><code class="language-vue">&lt;router-link to="/news/detail"&gt;xxxx&lt;/router-link&gt;
&lt;!-- æˆ– --&gt;
&lt;router-link :to="{path:'/news/detail'}"&gt;xxxx&lt;/router-link&gt;</code></pre>
                                <p>è®°å¾—å» Home ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª &lt;router-view&gt;</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="news"&gt;
    &lt;nav class="news-list"&gt;
      &lt;RouterLink v-for="news in newsList" :key="news.id" :to="{path:'/news/detail'}"&gt;
        {{news.name}}
      &lt;/RouterLink&gt;
    &lt;/nav&gt;
    &lt;div class="news-detail"&gt;
      &lt;RouterView/&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

                                <h3 id="section4-8">4.8 è·¯ç”±ä¼ å‚</h3>
                                <h4>query å‚æ•°</h4>
                                <p>ä¼ é€’å‚æ•°ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to="/news/detail?a=1&amp;b=2&amp;content=æ¬¢è¿ä½ "&gt;
	è·³è½¬
&lt;/router-link&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to="{
    path:'/news/detail',
    query:{
      id:news.id,
      title:news.title,
      content:news.content
    }
  }"
&gt;
  {{news.title}}
&lt;/RouterLink&gt;</code></pre>
                                <p>æ¥æ”¶å‚æ•°ï¼š</p>
                                <pre><code class="language-js">import {useRoute} from 'vue-router'
const route = useRoute()
console.log(route.query)</code></pre>

                                <h4>params å‚æ•°</h4>
                                <p>ä¼ é€’å‚æ•°ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;RouterLink :to="`/news/detail/001/æ–°é—»001/å†…å®¹001`"&gt;{{news.title}}&lt;/RouterLink&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to="{
    name:'xiang',
    params:{
      id:news.id,
      title:news.title,
      content:news.title
    }
  }"
&gt;
  {{news.title}}
&lt;/RouterLink&gt;</code></pre>
                                <p>æ¥æ”¶å‚æ•°ï¼š</p>
                                <pre><code class="language-js">import {useRoute} from 'vue-router'
const route = useRoute()
console.log(route.params)</code></pre>
                                <p>å¤‡æ³¨1ï¼šä¼ é€’ params å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨ to çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨ name é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨ path</p>
                                <p>å¤‡æ³¨2ï¼šä¼ é€’ params å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½</p>

                                <h3 id="section4-9">4.9 è·¯ç”±çš„ props é…ç½®</h3>
                                <p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º props ä¼ ç»™ç»„ä»¶ï¼‰</p>
                                <pre><code class="language-js">{
	name:'xiang',
	path:'detail/:id/:title/:content',
	component:Detail,

  // propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶
  // props:{a:1,b:2,c:3}, 

  // propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶
  // props:true
  
  // propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶
  props(route){
    return route.query
  }
}</code></pre>

                                <h3 id="section4-10">4.10 replace å±æ€§</h3>
                                <p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼</p>
                                <p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º push å’Œ replace</p>
                                <ul>
                                    <li>push æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰</li>
                                    <li>replace æ˜¯æ›¿æ¢å½“å‰è®°å½•</li>
                                </ul>
                                <p>å¼€å¯ replace æ¨¡å¼ï¼š</p>
                                <pre><code class="language-vue">&lt;RouterLink replace .......&gt;News&lt;/RouterLink&gt;</code></pre>

                                <h3 id="section4-11">4.11 ç¼–ç¨‹å¼å¯¼èˆª</h3>
                                <p>è·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š$route å’Œ $router å˜æˆäº†ä¸¤ä¸ª hooks</p>
                                <pre><code class="language-js">import {useRoute,useRouter} from 'vue-router'

const route = useRoute()
const router = useRouter()

console.log(route.query)
console.log(route.parmas)
console.log(router.push)
console.log(router.replace)</code></pre>

                                <h3 id="section4-12">4.12 é‡å®šå‘</h3>
                                <p>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±</p>
                                <p>å…·ä½“ç¼–ç ï¼š</p>
                                <pre><code class="language-js">{
    path:'/',
    redirect:'/about'
}</code></pre>

                                <h2 id="section5">5. Pinia</h2>

                                <h3 id="section5-1">5.1 å‡†å¤‡ä¸€ä¸ªæ•ˆæœ</h3>
                                <p>Pinia æ˜¯ Vue çš„çŠ¶æ€ç®¡ç†åº“ï¼Œç”¨äºåœ¨ç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€ã€‚</p>

                                <h3 id="section5-2">5.2 æ­å»º pinia ç¯å¢ƒ</h3>
                                <p>ç¬¬ä¸€æ­¥ï¼š<code>npm install pinia</code></p>
                                <p>ç¬¬äºŒæ­¥ï¼šæ“ä½œ src/main.ts</p>
                                <pre><code class="language-ts">import { createApp } from 'vue'
import App from './App.vue'

import { createPinia } from 'pinia'

const pinia = createPinia()
const app = createApp(App)

app.use(pinia)
app.mount('#app')</code></pre>

                                <h3 id="section5-3">5.3 å­˜å‚¨+è¯»å–æ•°æ®</h3>
                                <p>Store æ˜¯ä¸€ä¸ªä¿å­˜ï¼šçŠ¶æ€ã€ä¸šåŠ¡é€»è¾‘ çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è¯»å–ã€å†™å…¥å®ƒ</p>
                                <p>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼šstateã€getterã€actionï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š dataã€ computed å’Œ methods</p>
                                <p>å…·ä½“ç¼–ç ï¼šsrc/store/count.ts</p>
                                <pre><code class="language-ts">import {defineStore} from 'pinia'

export const useCountStore = defineStore('count',{
  actions:{},
  state(){
    return {
      sum:6
    }
  },
  getters:{}
})</code></pre>
                                <p>å…·ä½“ç¼–ç ï¼šsrc/store/talk.ts</p>
                                <pre><code class="language-js">import {defineStore} from 'pinia'

export const useTalkStore = defineStore('talk',{
  actions:{},
  state(){
    return {
      talkList:[
        {id:'yuysada01',content:'ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼'},
    		{id:'yuysada02',content:'è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ'},
        {id:'yuysada03',content:'å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°'}
      ]
    }
  },
  getters:{}
})</code></pre>
                                <p>ç»„ä»¶ä¸­ä½¿ç”¨ state ä¸­çš„æ•°æ®ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{ sumStore.sum }}&lt;/h2&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  import {useSumStore} from '@/store/sum'
  const sumStore = useSumStore()
&lt;/script&gt;</code></pre>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
	&lt;ul&gt;
    &lt;li v-for="talk in talkStore.talkList" :key="talk.id"&gt;
      {{ talk.content }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  import axios from 'axios'
  import {useTalkStore} from '@/store/talk'

  const talkStore = useTalkStore()
&lt;/script&gt;</code></pre>

                                <h3 id="section5-4">5.4 ä¿®æ”¹æ•°æ®ï¼ˆä¸‰ç§æ–¹å¼ï¼‰</h3>
                                <p>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹ï¼š</p>
                                <pre><code class="language-ts">countStore.sum = 666</code></pre>
                                <p>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹ï¼š</p>
                                <pre><code class="language-ts">countStore.$patch({
  sum:999,
  school:'atguigu'
})</code></pre>
                                <p>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ© action ä¿®æ”¹ï¼ˆaction ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</p>
                                <pre><code class="language-js">import { defineStore } from 'pinia'

export const useCountStore = defineStore('count', {
  actions: {
    increment(value:number) {
      if (this.sum < 10) {
        this.sum += value
      }
    },
    decrement(value:number){
      if(this.sum > 1){
        this.sum -= value
      }
    }
  },
})</code></pre>
                                <p>ç»„ä»¶ä¸­è°ƒç”¨ action å³å¯ï¼š</p>
                                <pre><code class="language-js">const countStore = useCountStore()
countStore.incrementOdd(n.value)</code></pre>

                                <h3 id="section5-5">5.5 storeToRefs</h3>
                                <p>å€ŸåŠ© storeToRefs å°† store ä¸­çš„æ•°æ®è½¬ä¸º ref å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</p>
                                <p>æ³¨æ„ï¼špinia æä¾›çš„ storeToRefs åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ Vue çš„ toRefs ä¼šè½¬æ¢ store ä¸­æ•°æ®</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
	&lt;div class="count"&gt;
		&lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}&lt;/h2&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  import { useCountStore } from '@/store/count'
  import { storeToRefs } from 'pinia'

  const countStore = useCountStore()
  const {sum} = storeToRefs(countStore)
&lt;/script&gt;</code></pre>

                                <h3 id="section5-6">5.6 getters</h3>
                                <p>æ¦‚å¿µï¼šå½“ state ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ getters é…ç½®</p>
                                <p>è¿½åŠ  getters é…ç½®ï¼š</p>
                                <pre><code class="language-js">import {defineStore} from 'pinia'

export const useCountStore = defineStore('count',{
  actions:{},
  state(){
    return {
      sum:1,
      school:'atguigu'
    }
  },
  getters:{
    bigSum:(state):number => state.sum *10,
    upperSchool():string{
      return this. school.toUpperCase()
    }
  }
})</code></pre>
                                <p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š</p>
                                <pre><code class="language-js">const {increment,decrement} = countStore
let {sum,school,bigSum,upperSchool} = storeToRefs(countStore)</code></pre>

                                <h3 id="section5-7">5.7 $subscribe</h3>
                                <p>é€šè¿‡ store çš„ $subscribe() æ–¹æ³•ä¾¦å¬ state åŠå…¶å˜åŒ–</p>
                                <pre><code class="language-ts">talkStore.$subscribe((mutate,state)=>{
  console.log('LoveTalk',mutate,state)
  localStorage.setItem('talk',JSON.stringify(talkList.value))
})</code></pre>

                                <h3 id="section5-8">5.8 store ç»„åˆå¼å†™æ³•</h3>
                                <pre><code class="language-ts">import {defineStore} from 'pinia'
import axios from 'axios'
import {nanoid} from 'nanoid'
import {reactive} from 'vue'

export const useTalkStore = defineStore('talk',()=>{
  const talkList = reactive(
    JSON.parse(localStorage.getItem('talkList') as string) || []
  )

  async function getATalk(){
    let {data:{content:title}} = await axios.get('https://api.uomg.com/api/rand.qinghua?format=json')
    let obj = {id:nanoid(),title}
    talkList.unshift(obj)
  }
  return {talkList,getATalk}
})</code></pre>

                                <h2 id="section6">6. ç»„ä»¶é€šä¿¡</h2>

                                <p>Vue3 ç»„ä»¶é€šä¿¡å’Œ Vue2 çš„åŒºåˆ«ï¼š</p>
                                <ul>
                                    <li>ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨ mitt ä»£æ›¿</li>
                                    <li>vuex æ¢æˆäº† pinia</li>
                                    <li>æŠŠ .sync ä¼˜åŒ–åˆ°äº† v-model é‡Œé¢äº†</li>
                                    <li>æŠŠ $listeners æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ° $attrs ä¸­äº†</li>
                                    <li>$children è¢«ç æ‰äº†</li>
                                </ul>

                                <h3 id="section6-1">6.1 props</h3>
                                <p>æ¦‚è¿°ï¼šprops æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨äºï¼šçˆ¶ â†” å­</p>
                                <ul>
                                    <li>è‹¥ çˆ¶ä¼ å­ï¼šå±æ€§å€¼æ˜¯éå‡½æ•°</li>
                                    <li>è‹¥ å­ä¼ çˆ¶ï¼šå±æ€§å€¼æ˜¯å‡½æ•°</li>
                                </ul>
                                <p>çˆ¶ç»„ä»¶ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼Œ&lt;/h3&gt;
		&lt;h4&gt;æˆ‘çš„è½¦ï¼š{{ car }}&lt;/h4&gt;
		&lt;h4&gt;å„¿å­ç»™çš„ç©å…·ï¼š{{ toy }}&lt;/h4&gt;
		&lt;Child :car="car" :getToy="getToy"/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
	import Child from './Child.vue'
	import { ref } from "vue";
	const car = ref('å¥”é©°')
	const toy = ref()
	function getToy(value:string){
		toy.value = value
	}
&lt;/script&gt;</code></pre>
                                <p>å­ç»„ä»¶ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="child"&gt;
    &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;
		&lt;h4&gt;æˆ‘çš„ç©å…·ï¼š{{ toy }}&lt;/h4&gt;
		&lt;h4&gt;çˆ¶ç»™æˆ‘çš„è½¦ï¼š{{ car }}&lt;/h4&gt;
		&lt;button @click="getToy(toy)"&gt;ç©å…·ç»™çˆ¶äº²&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Child"&gt;
	import { ref } from "vue";
	const toy = ref('å¥¥ç‰¹æ›¼')
	
	defineProps(['car','getToy'])
&lt;/script&gt;</code></pre>

                                <h3 id="section6-2">6.2 è‡ªå®šä¹‰äº‹ä»¶</h3>
                                <p>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼šå­ => çˆ¶</p>
                                <p>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶</p>
                                <ul>
                                    <li>åŸç”Ÿäº‹ä»¶ï¼š
                                        <ul>
                                            <li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆclickã€mosueenter ç­‰ç­‰ï¼‰</li>
                                            <li>äº‹ä»¶å¯¹è±¡ $event: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆpageXã€pageYã€targetã€keyCodeï¼‰</li>
                                        </ul>
                                    </li>
                                    <li>è‡ªå®šä¹‰äº‹ä»¶ï¼š
                                        <ul>
                                            <li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li>
                                            <li>äº‹ä»¶å¯¹è±¡ $event: æ˜¯è°ƒç”¨ emit æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹</li>
                                        </ul>
                                    </li>
                                </ul>
                                <p>ç¤ºä¾‹ï¼š</p>
                                <pre><code class="language-html">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--&gt;
&lt;Child @send-toy="toy = $event"/&gt;

&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--&gt;
&lt;button @click="toy = $event"&gt;æµ‹è¯•&lt;/button&gt;</code></pre>
                                <pre><code class="language-js">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š
this.$emit('send-toy', å…·ä½“æ•°æ®)</code></pre>

                                <h3 id="section6-3">6.3 mitt</h3>
                                <p>æ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡</p>
                                <p>å®‰è£… mittï¼š</p>
                                <pre><code class="language-shell">npm i mitt</code></pre>
                                <p>æ–°å»ºæ–‡ä»¶ï¼šsrc\utils\emitter.ts</p>
                                <pre><code class="language-javascript">import mitt from "mitt";

const emitter = mitt()

export default emitter</code></pre>
                                <p>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š</p>
                                <pre><code class="language-typescript">import emitter from "@/utils/emitter";
import { onUnmounted } from "vue";

emitter.on('send-toy',(value)=>{
  console.log('send-toyäº‹ä»¶è¢«è§¦å‘',value)
})

onUnmounted(()=>{
  emitter.off('send-toy')
})</code></pre>
                                <p>æä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶ï¼š</p>
                                <pre><code class="language-javascript">import emitter from "@/utils/emitter";

function sendToy(){
  emitter.emit('send-toy',toy.value)
}</code></pre>

                                <h3 id="section6-4">6.4 v-model</h3>
                                <p>æ¦‚è¿°ï¼šå®ç° çˆ¶â†”å­ ä¹‹é—´ç›¸äº’é€šä¿¡</p>
                                <p>å‰åºçŸ¥è¯† â€”â€” v-model çš„æœ¬è´¨ï¼š</p>
                                <pre><code class="language-vue">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;input type="text" v-model="userName"&gt;

&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;
&lt;input 
  type="text" 
  :value="userName" 
  @input="userName =(&lt;HTMLInputElement&gt;$event.target).value"
&gt;</code></pre>
                                <p>ç»„ä»¶æ ‡ç­¾ä¸Šçš„ v-model çš„æœ¬è´¨ï¼š:moldeValue ï¼‹ update:modelValue äº‹ä»¶ï¼š</p>
                                <pre><code class="language-vue">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;AtguiguInput v-model="userName"/&gt;

&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;
&lt;AtguiguInput :modelValue="userName" @update:model-value="userName = $event"/&gt;</code></pre>
                                <p>AtguiguInput ç»„ä»¶ä¸­ï¼š</p>
                                <pre><code class="language-vue">&lt;template&gt;
  &lt;div class="box"&gt;
    &lt;input 
      type="text" 
      :value="modelValue" 
      @input="emit('update:model-value',$event.target.value)"
    &gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="AtguiguInput"&gt;
  defineProps(['modelValue'])
  const emit = defineEmits(['update:model-value'])
&lt;/script&gt;</code></pre>
                                <p>ä¹Ÿå¯ä»¥æ›´æ¢ valueï¼Œä¾‹å¦‚æ”¹æˆ abcï¼š</p>
                                <pre><code class="language-vue">&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;
&lt;AtguiguInput v-model:abc="userName"/&gt;

&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;
&lt;AtguiguInput :abc="userName" @update:abc="userName = $event"/&gt;</code></pre>
                                <p>å¦‚æœ value å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨ v-modelï¼š</p>
                                <pre><code class="language-vue">&lt;AtguiguInput v-model:abc="userName" v-model:xyz="password"/&gt;</code></pre>

                                <h3 id="section6-5">6.5 $attrs</h3>
                                <p>æ¦‚è¿°ï¼š$attrs ç”¨äºå®ç°å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶ï¼Œå‘å½“å‰ç»„ä»¶çš„å­ç»„ä»¶é€šä¿¡ï¼ˆç¥–â†’å­™ï¼‰</p>
                                <p>å…·ä½“è¯´æ˜ï¼š$attrs æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§</p>
                                <p>æ³¨æ„ï¼š$attrs ä¼šè‡ªåŠ¨æ’é™¤ props ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ props è¢«å­ç»„ä»¶è‡ªå·±"æ¶ˆè´¹"äº†)</p>
                                <p>çˆ¶ç»„ä»¶ï¼š</p>
                                <pre><code class="language-vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;
		&lt;Child :a="a" :b="b" :c="c" :d="d" v-bind="{x:100,y:200}" :updateA="updateA"/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
	import Child from './Child.vue'
	import { ref } from "vue";
	let a = ref(1)
	let b = ref(2)
	let c = ref(3)
	let d = ref(4)

	function updateA(value){
		a.value = value
	}
&lt;/script&gt;</code></pre>
                                <p>å­ç»„ä»¶ï¼š</p>
                                <pre><code class="language-vue">&lt;template&gt;
	&lt;div class="child"&gt;
		&lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;
		&lt;GrandChild v-bind="$attrs"/&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Child"&gt;
	import GrandChild from './GrandChild.vue'
&lt;/script&gt;</code></pre>
                                <p>å­™ç»„ä»¶ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
	&lt;div class="grand-child"&gt;
		&lt;h3&gt;å­™ç»„ä»¶&lt;/h3&gt;
		&lt;h4&gt;aï¼š{{ a }}&lt;/h4&gt;
		&lt;h4&gt;bï¼š{{ b }}&lt;/h4&gt;
		&lt;h4&gt;cï¼š{{ c }}&lt;/h4&gt;
		&lt;h4&gt;dï¼š{{ d }}&lt;/h4&gt;
		&lt;h4&gt;xï¼š{{ x }}&lt;/h4&gt;
		&lt;h4&gt;yï¼š{{ y }}&lt;/h4&gt;
		&lt;button @click="updateA(666)"&gt;ç‚¹æˆ‘æ›´æ–°A&lt;/button&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="GrandChild"&gt;
	defineProps(['a','b','c','d','x','y','updateA'])
&lt;/script&gt;</code></pre>

                                <h3 id="section6-6">6.6 $refsã€$parent</h3>
                                <p>æ¦‚è¿°ï¼š</p>
                                <ul>
                                    <li>$refs ç”¨äºï¼šçˆ¶â†’å­</li>
                                    <li>$parent ç”¨äºï¼šå­â†’çˆ¶</li>
                                </ul>
                                <p>åŸç†å¦‚ä¸‹ï¼š</p>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>å±æ€§</th>
                                            <th>è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>$refs</code></td>
                                            <td>å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢« ref å±æ€§æ ‡è¯†çš„ DOM å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹</td>
                                        </tr>
                                        <tr>
                                            <td><code>$parent</code></td>
                                            <td>å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h3 id="section6-7">6.7 provideã€inject</h3>
                                <p>æ¦‚è¿°ï¼šå®ç°ç¥–å­™ç»„ä»¶ç›´æ¥é€šä¿¡</p>
                                <p>å…·ä½“ä½¿ç”¨ï¼š</p>
                                <ul>
                                    <li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡ provide é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li>
                                    <li>åœ¨åç«¯ç»„ä»¶ä¸­é€šè¿‡ inject é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li>
                                </ul>
                                <p>çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨ provide æä¾›æ•°æ®ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š{{ money }}&lt;/h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š{{ car }}&lt;/h4&gt;
    &lt;button @click="money += 1"&gt;èµ„äº§+1&lt;/button&gt;
    &lt;button @click="car.price += 1"&gt;æ±½è½¦ä»·æ ¼+1&lt;/button&gt;
    &lt;Child/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
  import Child from './Child.vue'
  import { ref,reactive,provide } from "vue";
  let money = ref(100)
  let car = reactive({
    brand:'å¥”é©°',
    price:100
  })
  function updateMoney(value:number){
    money.value += value
  }
  provide('moneyContext',{money,updateMoney})
  provide('car',car)
&lt;/script&gt;</code></pre>
                                <p>å­™ç»„ä»¶ä¸­ä½¿ç”¨ inject é…ç½®é¡¹æ¥å—æ•°æ®ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="grand-child"&gt;
    &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;/h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š{{ money }}&lt;/h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š{{ car }}&lt;/h4&gt;
    &lt;button @click="updateMoney(6)"&gt;ç‚¹æˆ‘&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="GrandChild"&gt;
  import { inject } from 'vue'
  let {money,updateMoney} = inject('moneyContext')
  let car = inject('car')
&lt;/script&gt;</code></pre>

                                <h3 id="section6-8">6.8 pinia</h3>
                                <p>æ¦‚è¿°ï¼šPinia æ˜¯ Vue çš„çŠ¶æ€ç®¡ç†åº“ï¼Œç”¨äºåœ¨ç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€</p>
                                <p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
                                <ol>
                                    <li>å®šä¹‰ store</li>
                                    <li>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ store</li>
                                </ol>

                                <h3 id="section6-9">6.9 slot</h3>
                                <h4>1. é»˜è®¤æ’æ§½</h4>
                                <p>çˆ¶ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;Category title="ä»Šæ—¥çƒ­é—¨æ¸¸æˆ"&gt;
  &lt;ul&gt;
    &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/Category&gt;</code></pre>
                                <p>å­ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="item"&gt;
    &lt;h3&gt;{{ title }}&lt;/h3&gt;
    &lt;!-- é»˜è®¤æ’æ§½ --&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

                                <h4>2. å…·åæ’æ§½</h4>
                                <p>çˆ¶ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;Category title="ä»Šæ—¥çƒ­é—¨æ¸¸æˆ"&gt;
  &lt;template v-slot:s1&gt;
    &lt;ul&gt;
      &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/template&gt;
  &lt;template #s2&gt;
    &lt;a href=""&gt;æ›´å¤š&lt;/a&gt;
  &lt;/template&gt;
&lt;/Category&gt;</code></pre>
                                <p>å­ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="item"&gt;
    &lt;h3&gt;{{ title }}&lt;/h3&gt;
    &lt;slot name="s1"&gt;&lt;/slot&gt;
    &lt;slot name="s2"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

                                <h4>3. ä½œç”¨åŸŸæ’æ§½</h4>
                                <p>ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®š</p>
                                <p>çˆ¶ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;Game v-slot="params"&gt;
  &lt;ul&gt;
    &lt;li v-for="g in params.games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/Game&gt;</code></pre>
                                <p>å­ç»„ä»¶ä¸­ï¼š</p>
                                <pre v-pre><code class="language-vue">&lt;template&gt;
  &lt;div class="category"&gt;
    &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;/h2&gt;
    &lt;slot :games="games" a="å“ˆå“ˆ"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Category"&gt;
  import {reactive} from 'vue'
  let games = reactive([
    {id:'asgdytsa01',name:'è‹±é›„è”ç›Ÿ'},
    {id:'asgdytsa02',name:'ç‹è€…è£è€€'},
    {id:'asgdytsa03',name:'çº¢è‰²è­¦æˆ’'},
    {id:'asgdytsa04',name:'æ–—ç½—å¤§é™†'}
  ])
&lt;/script&gt;</code></pre>

                                <h2 id="section7">7. å…¶å®ƒ API</h2>

                                <h3 id="section7-1">7.1 shallowRef ä¸ shallowReactive</h3>
                                <h4>shallowRef</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†</li>
                                    <li>ç”¨æ³•ï¼š<code>let myVar = shallowRef(initialValue);</code></li>
                                    <li>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–</li>
                                </ul>

                                <h4>shallowReactive</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</li>
                                    <li>ç”¨æ³•ï¼š<code>const myObj = shallowReactive({ ... });</code></li>
                                    <li>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯</li>
                                </ul>

                                <p><strong>æ€»ç»“ï¼š</strong></p>
                                <p>é€šè¿‡ä½¿ç”¨ shallowRef() å’Œ shallowReactive() æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ API åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p>

                                <h3 id="section7-2">7.2 readonly ä¸ shallowReadonly</h3>
                                <h4>readonly</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬</li>
                                    <li>ç”¨æ³•ï¼š<code>const original = reactive({ ... }); const readOnlyCopy = readonly(original);</code></li>
                                    <li>ç‰¹ç‚¹ï¼š
                                        <ul>
                                            <li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»</li>
                                            <li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰</li>
                                        </ul>
                                    </li>
                                    <li>åº”ç”¨åœºæ™¯ï¼š
                                        <ul>
                                            <li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§</li>
                                            <li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹</li>
                                        </ul>
                                    </li>
                                </ul>

                                <h4>shallowReadonly</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šä¸ readonly ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§</li>
                                    <li>ç”¨æ³•ï¼š<code>const original = reactive({ ... }); const shallowReadOnlyCopy = shallowReadonly(original);</code></li>
                                    <li>ç‰¹ç‚¹ï¼š
                                        <ul>
                                            <li>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„</li>
                                            <li>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯</li>
                                        </ul>
                                    </li>
                                </ul>

                                <h3 id="section7-3">7.3 toRaw ä¸ markRaw</h3>
                                <h4>toRaw</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼ŒtoRaw è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°</li>
                                    <li>ä½•æ—¶ä½¿ç”¨ï¼Ÿâ€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é Vue çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ toRaw å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</li>
                                </ul>
                                <pre><code class="language-js">import { reactive,toRaw,markRaw,isReactive } from "vue";

let person = reactive({name:'tony',age:18})
let rawPerson = toRaw(person)</code></pre>

                                <h4>markRaw</h4>
                                <ul>
                                    <li>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå˜æˆå“åº”å¼çš„</li>
                                    <li>ä¾‹å¦‚ä½¿ç”¨ mockjs æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ mockjs å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ markRaw å»æ ‡è®° mockjs</li>
                                </ul>
                                <pre><code class="language-js">let citys = markRaw([
  {id:'asdda01',name:'åŒ—äº¬'},
  {id:'asdda02',name:'ä¸Šæµ·'},
  {id:'asdda03',name:'å¤©æ´¥'},
  {id:'asdda04',name:'é‡åº†'}
])
let citys2 = reactive(citys)</code></pre>

                                <h3 id="section7-4">7.4 customRef</h3>
                                <p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶</p>
                                <p>å®ç°é˜²æŠ–æ•ˆæœï¼ˆuseSumRef.tsï¼‰ï¼š</p>
                                <pre><code class="language-typescript">import {customRef } from "vue";

export default function(initValue:string,delay:number){
  let msg = customRef((track,trigger)=>{
    let timer:number
    return {
      get(){
        track() 
        return initValue
      },
      set(value){
        clearTimeout(timer)
        timer = setTimeout(() => {
          initValue = value
          trigger() 
        }, delay);
      }
    }
  }) 
  return {msg}
}</code></pre>

                                <h2 id="section8">8. Vue3æ–°ç»„ä»¶</h2>

                                <h3 id="section8-1">8.1 Teleport</h3>
                                <p>ä»€ä¹ˆæ˜¯ Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„ç»„ä»¶ html ç»“æ„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</p>
                                <pre><code class="language-html">&lt;teleport to='body' &gt;
    &lt;div class="modal" v-show="isShow"&gt;
      &lt;h2&gt;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&lt;/h2&gt;
      &lt;p&gt;æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹&lt;/p&gt;
      &lt;button @click="isShow = false"&gt;å…³é—­å¼¹çª—&lt;/button&gt;
    &lt;/div&gt;
&lt;/teleport&gt;</code></pre>

                                <h3 id="section8-2">8.2 Suspense</h3>
                                <p>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p>
                                <p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
                                <ol>
                                    <li>å¼‚æ­¥å¼•å…¥ç»„ä»¶</li>
                                    <li>ä½¿ç”¨ Suspense åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½ default ä¸ fallback</li>
                                </ol>
                                <pre><code class="language-tsx">import { defineAsyncComponent,Suspense } from "vue";
const Child = defineAsyncComponent(()=>import('./Child.vue'))</code></pre>
                                <pre><code class="language-vue">&lt;template&gt;
    &lt;div class="app"&gt;
        &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt;
        &lt;Suspense&gt;
          &lt;template v-slot:default&gt;
            &lt;Child/&gt;
          &lt;/template&gt;
          &lt;template v-slot:fallback&gt;
            &lt;h3&gt;åŠ è½½ä¸­.......&lt;/h3&gt;
          &lt;/template&gt;
        &lt;/Suspense&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre>

                                <h3 id="section8-3">8.3 å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡</h3>
                                <ul>
                                    <li>app.component</li>
                                    <li>app.config</li>
                                    <li>app.directive</li>
                                    <li>app.mount</li>
                                    <li>app.unmount</li>
                                    <li>app.use</li>
                                </ul>

                                <h3 id="section8-4">8.4 å…¶ä»–</h3>
                                <ul>
                                    <li>è¿‡æ¸¡ç±»å v-enter ä¿®æ”¹ä¸º v-enter-fromã€è¿‡æ¸¡ç±»å v-leave ä¿®æ”¹ä¸º v-leave-from</li>
                                    <li>keyCode ä½œä¸º v-on ä¿®é¥°ç¬¦çš„æ”¯æŒ</li>
                                    <li>v-model æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† v-bind.sync</li>
                                    <li>v-if å’Œ v-for åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–</li>
                                    <li>ç§»é™¤äº† $onã€$off å’Œ $once å®ä¾‹æ–¹æ³•</li>
                                    <li>ç§»é™¤äº†è¿‡æ»¤å™¨ filter</li>
                                    <li>ç§»é™¤äº† $children å®ä¾‹ property</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <p>&copy; 2025 Cyincçš„ä¸ªäººåšå®¢. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <div id="volumeControl" class="volume-control-widget">
            <button id="volumeToggle" class="volume-toggle-btn">ğŸ”Š</button>
            <div id="volumePanel" class="volume-panel">
                <div class="volume-panel-content">
                    <span class="volume-label">éŸ³é‡</span>
                    <input type="range" id="globalVolumeSlider" class="volume-slider" min="0" max="100" :value="volume" @input="updateVolume">
                    <span id="globalVolumeValue" class="volume-value">{{ volume }}%</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, reactive, computed, onMounted, watch } = Vue

        createApp({
            setup() {
                const articleTitle = ref('Vue3å­¦ä¹ ç¬”è®°')
                const publishDate = ref('2025-02-27')
                const author = ref('Cyinc')
                const category = ref('æŠ€æœ¯')
                const theme = ref(localStorage.getItem('theme') || 'light')
                const sidebarVisible = ref(true)
                const tocVisible = ref(true)
                const volume = ref(parseInt(localStorage.getItem('globalVolume') || '80'))

                const sections = reactive([
                    { id: 'section1', title: '1. Vue3ç®€ä»‹', children: [
                        { id: 'section1-1', title: '1.1 æ€§èƒ½çš„æå‡' },
                        { id: 'section1-2', title: '1.2 æºç çš„å‡çº§' },
                        { id: 'section1-3', title: '1.3 æ‹¥æŠ±TypeScript' },
                        { id: 'section1-4', title: '1.4 æ–°çš„ç‰¹æ€§' }
                    ]},
                    { id: 'section2', title: '2. åˆ›å»ºVue3å·¥ç¨‹', children: [
                        { id: 'section2-1', title: '2.1 åŸºäº vue-cli åˆ›å»º' },
                        { id: 'section2-2', title: '2.2 åŸºäº vite åˆ›å»º' },
                        { id: 'section2-3', title: '2.3 ä¸€ä¸ªç®€å•çš„æ•ˆæœ' }
                    ]},
                    { id: 'section3', title: '3. Vue3æ ¸å¿ƒè¯­æ³•', children: [
                        { id: 'section3-1', title: '3.1 OptionsAPI ä¸ CompositionAPI' },
                        { id: 'section3-2', title: '3.2 setup' },
                        { id: 'section3-3', title: '3.3 ref åŸºæœ¬ç±»å‹' },
                        { id: 'section3-4', title: '3.4 reactive å¯¹è±¡ç±»å‹' },
                        { id: 'section3-5', title: '3.5 ref å¯¹è±¡ç±»å‹' },
                        { id: 'section3-6', title: '3.6 ref å¯¹æ¯” reactive' },
                        { id: 'section3-7', title: '3.7 toRefs ä¸ toRef' },
                        { id: 'section3-8', title: '3.8 computed' },
                        { id: 'section3-9', title: '3.9 watch' }
                    ]},
                    { id: 'section4', title: '4. è·¯ç”±', children: [
                        { id: 'section4-1', title: '4.1 å¯¹è·¯ç”±çš„ç†è§£' },
                        { id: 'section4-2', title: '4.2 åŸºæœ¬åˆ‡æ¢æ•ˆæœ' },
                        { id: 'section4-3', title: '4.3 ä¸¤ä¸ªæ³¨æ„ç‚¹' },
                        { id: 'section4-4', title: '4.4 è·¯ç”±å™¨å·¥ä½œæ¨¡å¼' },
                        { id: 'section4-5', title: '4.5 toçš„ä¸¤ç§å†™æ³•' },
                        { id: 'section4-6', title: '4.6 å‘½åè·¯ç”±' },
                        { id: 'section4-7', title: '4.7 åµŒå¥—è·¯ç”±' },
                        { id: 'section4-8', title: '4.8 è·¯ç”±ä¼ å‚' },
                        { id: 'section4-9', title: '4.9 è·¯ç”±çš„propsé…ç½®' },
                        { id: 'section4-10', title: '4.10 replaceå±æ€§' },
                        { id: 'section4-11', title: '4.11 ç¼–ç¨‹å¼å¯¼èˆª' },
                        { id: 'section4-12', title: '4.12 é‡å®šå‘' }
                    ]},
                    { id: 'section5', title: '5. Pinia', children: [
                        { id: 'section5-1', title: '5.1 å‡†å¤‡ä¸€ä¸ªæ•ˆæœ' },
                        { id: 'section5-2', title: '5.2 æ­å»ºpiniaç¯å¢ƒ' },
                        { id: 'section5-3', title: '5.3 å­˜å‚¨+è¯»å–æ•°æ®' },
                        { id: 'section5-4', title: '5.4 ä¿®æ”¹æ•°æ®ï¼ˆä¸‰ç§æ–¹å¼ï¼‰' },
                        { id: 'section5-5', title: '5.5 storeToRefs' },
                        { id: 'section5-6', title: '5.6 getters' },
                        { id: 'section5-7', title: '5.7 $subscribe' },
                        { id: 'section5-8', title: '5.8 storeç»„åˆå¼å†™æ³•' }
                    ]},
                    { id: 'section6', title: '6. ç»„ä»¶é€šä¿¡', children: [
                        { id: 'section6-1', title: '6.1 props' },
                        { id: 'section6-2', title: '6.2 è‡ªå®šä¹‰äº‹ä»¶' },
                        { id: 'section6-3', title: '6.3 mitt' },
                        { id: 'section6-4', title: '6.4 v-model' },
                        { id: 'section6-5', title: '6.5 $attrs' },
                        { id: 'section6-6', title: '6.6 $refsã€$parent' },
                        { id: 'section6-7', title: '6.7 provideã€inject' },
                        { id: 'section6-8', title: '6.8 pinia' },
                        { id: 'section6-9', title: '6.9 slot' }
                    ]},
                    { id: 'section7', title: '7. å…¶å®ƒ API', children: [
                        { id: 'section7-1', title: '7.1 shallowRef ä¸ shallowReactive' },
                        { id: 'section7-2', title: '7.2 readonly ä¸ shallowReadonly' },
                        { id: 'section7-3', title: '7.3 toRaw ä¸ markRaw' },
                        { id: 'section7-4', title: '7.4 customRef' }
                    ]},
                    { id: 'section8', title: '8. Vue3æ–°ç»„ä»¶', children: [
                        { id: 'section8-1', title: '8.1 Teleport' },
                        { id: 'section8-2', title: '8.2 Suspense' },
                        { id: 'section8-3', title: '8.3 å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡' },
                        { id: 'section8-4', title: '8.4 å…¶ä»–' }
                    ]}
                ])

                const toggleTheme = () => {
                    theme.value = theme.value === 'light' ? 'dark' : 'light'
                    document.documentElement.setAttribute('data-theme', theme.value)
                    localStorage.setItem('theme', theme.value)
                }

                const toggleSidebar = () => {
                    sidebarVisible.value = !sidebarVisible.value
                    const header = document.querySelector('header')
                    if (header) {
                        header.classList.toggle('hidden')
                    }
                }

                const toggleToc = () => {
                    tocVisible.value = !tocVisible.value
                }

                const updateVolume = (e) => {
                    volume.value = e.target.value
                    localStorage.setItem('globalVolume', volume.value)
                    if (window.globalMusicPlayer) {
                        window.globalMusicPlayer.setVolume(volume.value / 100)
                    }
                }

                onMounted(() => {
                    document.documentElement.setAttribute('data-theme', theme.value)
                    
                    const codeBlocks = document.querySelectorAll('pre code')
                    codeBlocks.forEach(codeBlock => {
                        const preElement = codeBlock.parentElement
                        const copyBtn = document.createElement('button')
                        copyBtn.className = 'copy-btn'
                        copyBtn.textContent = 'å¤åˆ¶'
                        copyBtn.addEventListener('click', function() {
                            navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                                copyBtn.textContent = 'å·²å¤åˆ¶'
                                copyBtn.classList.add('copied')
                                setTimeout(() => {
                                    copyBtn.textContent = 'å¤åˆ¶'
                                    copyBtn.classList.remove('copied')
                                }, 2000)
                            })
                        })
                        preElement.appendChild(copyBtn)
                    })
                })

                return {
                    articleTitle,
                    publishDate,
                    author,
                    category,
                    theme,
                    sidebarVisible,
                    tocVisible,
                    volume,
                    sections,
                    toggleTheme,
                    toggleSidebar,
                    toggleToc,
                    updateVolume
                }
            }
        }).mount('#app')
    </script>
    <script src="../js/static-blog.js"></script>
</body>
</html>
